<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">

<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../bower_components/vaadin-combo-box/vaadin-combo-box.html">

<link rel="import" href="../../behaviors/AjaxBehavior.html">

<!--
`TDO-HacerPregunta`


@demo demo/index.html
-->

<dom-module id="TDO-HacerPregunta">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <form is="iron-form" method="POST" action="/api/pregunta" id="formData" on-iron-form-response="onResponse"
          on-iron-form-error="_onError">

      <vaadin-combo-box label="Mis mascotas" items="[[misMascotas]]" item-label-path="nombre" name="mascotaId"
                        item-value-path="id"></vaadin-combo-box>

      <paper-input label="TÃ­tulo de la pregunta" name="titulo">
        <iron-icon icon="pets" prefix></iron-icon>
      </paper-input>
      <paper-textarea label="Pregunta" name="descripcion"></paper-textarea>

      <paper-button raised on-tap="_submit">Preguntar</paper-button>
      <paper-button raised on-tap="_reset">Reiniciar</paper-button>

    </form>

    <paper-spinner active="[[loading]]"></paper-spinner>

    <iron-ajax
      id="getMisMascotas"
      url="/api/mascota/misMascotas"
      auto
      handle-as="json"
      loading="{{loading}}"
      method="GET"
      content-type="application/json"
      last-Response="{{misMascotas}}"
      on-response="_onResponse"
      on-error="_onError"
    ></iron-ajax>
  </template>

  <script src="./TDO-HacerPregunta.js"></script>
</dom-module>
